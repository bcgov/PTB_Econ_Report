## Affordability Factor (PN)

### Fare for a 5-Kilometre Trip

**Primary factor:** Affordability

**Description:** Fare for a 5-kilometre trip reflects the trip revenue that service providers earn during a trip with a length of 5 kilometres.

**Measurement:** : Fare for a 5-kilometre trip is measured by the median (i.e., the 50th percentile) of the 5-kilometre trip fare distribution in an area over a month from the Trip Database. It is also measured by operating companies' fares for a 5-kilometer trip in an area over the most recent month. Specifically, for taxi service in an area with a common rate, an operating company's fare for a 5-kilometre trip is calculated as the common flag rate plus the product of 5 kilometres and the common distance rate. For taxi service in an area without a common rate, an operating company's fare for a 5-kilometre trip is measured by the median of its 5-kilometre trip fare distribution. For TNS service in any area, an operating company's fare for a 5-kilometre trip is measured by the median of its 5-kilometre trip fare distribution.

**Interpretation:** : For some areas, the average distance of trips approximates 5 kilometres in most months. For other areas, a majority of trips are shorter than 5 kilometres in most months. Hence, fare for a 5-kilometre trip can serve as indicators of the affordability of passenger transportation services. In general, a higher fare for a 5-kilometre trip indicates reduced affordability, as it suggests higher costs for passengers. Specifically, if the fare for a 5-kilometre trip increases more rapidly than B.C.'s average hourly wage rate, affordability would decrease as the rising costs outpace the passengers' ability to pay.[^5_fare_per_kilometre-1]

[^5_fare_per_kilometre-1]: Statistics Canada. (2024). Table 14-10-0222-01 Employment, average hourly and weekly earnings (including overtime), and average weekly hours for the industrial aggregate excluding unclassified businesses, monthly.

The Board's public need policy in the Policy Manual lists examples of the affordability factor, which are set out below alongside their corresponding implications on fare for a 5-kilometre trip:

-   The proposed service provides more affordable options or services for consumers.

    -   In general, a lower fare for a 5-kilometre trip leads to improved affordability of service. On the other hand, the ratio of fare for a 5-kilometre trip to personal hourly wage rate can more accurately reflect affordability, with a lower ratio indicating better affordability.

#### `r region_name` Regional District Fare for a 5-Kilometre Trip Findings


*`r tbl_caption(paste(region_name, "Regional District Fare for a 5-Kilometre Trip"))`*


```{r}
tbl <- make_indicator_table_compact(
  data       = raw_norm,
  indicator  = "FARE_PER_5KM",
  region     = region_name,
  services   = c("TAXI","TNS"),
  area_type  = "REGIONAL",
  date_from  = date_from,
  date_to    = date_to,
  digits     = 2
)
tbl
```


*`r fig_caption(paste(region_name, "Regional District Fare for a 5-Kilometre Trips"))`*

```{r, fig.width=10, fig.height=5}
chart <- make_indicator_chart_lines(
data       = raw_norm,
indicator  = "FARE_PER_5KM",  # Adjust indicator if needed
region     = region_name,
services   = c("TAXI", "TNS"),
area_type  = "REGIONAL",
date_from  = date_from,
date_to    = date_to,
title      = "Fare for a 5-Kilometre Trip ($)",
colors     = c(TAXI = "#69B7FF", TNS = "#1E3A8A")
)
chart

```
```{r}
make_company_fare_chart <- function(
    data,
    area      = region_name,
    year      = 2023,
    month     = 1,
    service   = "TAXI",
    indicator = "FARE_PER_5KM",
    title     = "Taxi Fare for a 5-Kilometre Trip ($)",
    base_size = 10
) {
  df <- data %>%
    dplyr::filter(
      LEVEL_NAME            == "COMPANY",
      PICKUP_AREA           == area,
      TRIP_SERVICE_TYPE_CODE == service,
      INDICATOR_TYPE        == indicator,
      YEAR_POINT            == year,
      MONTH_POINT           == month
    ) %>%
    dplyr::mutate(
      company = LEVEL_VALUE,
      fare    = as.numeric(INDICATOR_VALUE)
    ) %>%
    dplyr::arrange(dplyr::desc(fare)) %>%
    dplyr::mutate(
      company = factor(company, levels = rev(company))
    )

  if (nrow(df) == 0) stop("No rows matched your filters.")

  ggplot(df, aes(x = company, y = fare)) +
  geom_col(width = 0.7, fill = "#1f77b4") +
  geom_text(
    aes(label = scales::dollar(fare, accuracy = 0.01)),
    hjust = -0.1,                       # push label a bit right of bar end
    size  = 3
  ) +
  coord_flip() +
  expand_limits(y = max(df$fare) * 1.05) +  # extra room for labels
  scale_y_continuous(
    labels = scales::dollar_format(accuracy = 0.01),
    expand = c(0, 0.02)
  ) +
  labs(
    title    = title,
    subtitle = "Metro Vancouver Regional District",
    x        = NULL,
    y        = "Fare for a 5-Kilometre Trip",
    caption  = "Service Type: TAXI"
  ) +
  theme_minimal(base_size = base_size) +
  theme(
    plot.title.position = "plot",
    axis.title.y        = element_blank(),
    axis.text.y         = element_text(hjust = 1),
    panel.grid.major.y  = element_blank(),
    panel.grid.minor    = element_blank(),
    plot.margin         = margin(6, 8, 6, 6)
  )
}

```


```{r, fig.width=10, fig.height=5}
company_fare_chart <- make_company_fare_chart(raw)
company_fare_chart
```


Analysis and Conclusions

In `r end_label`, `r region_name` Regional District recorded a total of `r metric("FARE_PER_5KM","TAXI","last_value_fmt")` in fare per 5 km for taxi trips. On a year-over-year (YoY) basis, the fare per 5 km for taxi trips was `r metric("FARE_PER_5KM","TAXI","yoy_fmt")`while on a year-to-date (YTD) basis it was `r metric("FARE_PER_5KM","TAXI","ytd_yoy_fmt")` relative to the same period in `r prev_year`.

In `r end_label`, the `r region_name` Regional District recorded a total of `r metric("FARE_PER_5KM","TNS","last_value_fmt")` in fare per 5 km for TNS trips. Compared with `r prev_label`, the fare per 5 km for TNS trips was `r metric("FARE_PER_5KM","TNS","yoy_fmt")` (YoY). Year-to-date through r end_label, the fare per 5 km for TNS trips was `r metric("FARE_PER_5KM","TNS","ytd_yoy_fmt")` relative to the same period in `r prev_year`.

**Limitations:** The number of Fare for a 5-Kilometre Trip does not address the Board's other examples of accessibility, including accessibility for people with other disabilities or underserved groups and communities. In addition, it does not reflect the reduction in the barriers to inclusion.
