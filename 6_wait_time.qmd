## Safety Factor (PN)

There is no analysis related to this factor.

## Service Quality Factor (PN)

### Wait Time

Primary Factor: Service Quality

**Description:** Wait time reflects the duration passengers wait for vehicles to arrive for pick up.

**Measurement:** Wait time for each trip is calculated as the difference between the pick-up arrival time and the hail time. Wait time is measured by the median (i.e., the 50th percentile) of the monthly wait time distribution in an area, and different percentiles of the monthly wait time distribution are also calculated.

**Interpretation:** Wait time serves as an indicator of the quality of passenger transportation services. It acts as a market-clearing variable, influenced by factors such as demand, supply, and the efficiency of the technology used to match passengers with vehicles. A longer wait time indicates reduced service quality, as it suggests longer delays for passengers and higher operating costs for licensees.

Policy Context: Public Need and Accessibility Factor

The Boardâ€™s Public Need Policy in the **Policy Manual** lists examples of the service quality factor, which are set out below alongside their corresponding implications on wait times:

-   The proposed service provides more or improved service where there is currently inadequate service.
    -   A long wait time suggests an inadequate level of service supplied.
-   The proposed service provides more reliable service.
    -   Consistent short wait times suggest that the service is reliable. 
    -   Significant changes in wait times can suggest that the service is not reliable. 
    -   Consistently long wait times suggest that the service is not reliable.
-   The proposed service encourages more efficient service to the public, including trip speed.
    -   A long wait time suggests an inadequate level of service supplied.
-   The proposed service provides a service that is comfortable and convenient.
    -   A short wait time contributes to a more comfortable and convenient service. 
    -   The proposed service supports better customer service and customer satisfaction. A short wait time contributes to better customer service and customer satisfaction.
    
\newpage
#### `r region_name` Regional District Wait Time Findings


`r tbl_caption(paste(region_name, "Regional District Wait Time (minutes)"))`



```{r}
make_indicator_table_compact(
  data      = raw_norm,
  indicator = "WAIT_TIME",
  region    = region_name,
  date_from = date_from,
  date_to   = date_to,
  digits    = 2,
  currency  = FALSE)
```


`r fig_caption(paste(region_name, "Regional District Wait Time (minutes)"))`

```{r, fig.width=10, fig.height=5}
chart <- make_indicator_chart_lines(
data       = raw_norm,
indicator  = "WAIT_TIME",  # Adjust indicator if needed
region     = region_name,
services   = c("TAXI", "TNS"),
area_type  = "REGIONAL",
date_from  = date_from,
date_to    = date_to,
title      = "Wait Time (minutes)",
colors     = c(TAXI = "#69B7FF", TNS = "#1E3A8A")
)
chart

```


```{r}
make_wait_time_percentile_chart(
  data      = raw_norm,
  region    = region_name,
  services  = c("TAXI", "TNS"),
  area_type = "REGIONAL",
  date_from = date_from,
  date_to   = date_to
)

```

#### Analysis and Conclusions

In `r region_name` Regional District, taxi wait time in `r end_label` was 
`r metric("WAIT_TIME","TAXI","last_value_fmt")`, 
compared with 
`r prev_metric("WAIT_TIME","TAXI")` 
in `r prev_month_label`, representing 
`r change_phrase(metric("WAIT_TIME","TAXI","mom_last"))` month over month. 
`r shift_narrative("WAIT_TIME","TAXI")`

On a year-over-year basis, taxi wait time in `r end_label` was 
`r metric("WAIT_TIME","TAXI","last_value_fmt")`, 
compared with 
`r prev_year_metric("WAIT_TIME","TAXI")` 
in `r prev_label`, representing 
`r change_phrase(metric("WAIT_TIME","TAXI","yoy_last"))` year over year.

On a year-to-date basis, the average taxi wait time from January to `r end_label` was 
`r format(round(ytd_metric("WAIT_TIME","TAXI", field="value", agg="avg"), 1), nsmall = 2)`, 
`r change_phrase(metric("WAIT_TIME","TAXI","ytd_yoy"))` from 
`r format(round(ytd_metric("WAIT_TIME","TAXI", field="value", agg="avg", year_offset=-1), 1), nsmall = 2)` 
over the same period (January to `r prev_label`). 
`r trend_narrative("WAIT_TIME","TAXI")`


The wait time for TNS trips in `r end_label` was 
`r metric("WAIT_TIME","TNS","last_value_fmt")`, 
compared with 
`r prev_metric("WAIT_TIME","TNS")` 
in `r prev_month_label`, representing 
`r change_phrase(metric("WAIT_TIME","TNS","mom_last"))` month over month. 
`r shift_narrative("WAIT_TIME","TNS")`

On a year-over-year basis, the wait time for TNS trips in `r end_label` was 
`r metric("WAIT_TIME","TNS","last_value_fmt")`, 
compared with 
`r prev_year_metric("WAIT_TIME","TNS")` 
in `r prev_label`, representing 
`r change_phrase(metric("WAIT_TIME","TNS","yoy_last"))` year over year.

On a year-to-date basis, the average wait time for TNS trips from January to `r end_label` was 
`r format(round(ytd_metric("WAIT_TIME","TNS", field="value", agg="avg"), 1), nsmall = 2)`, 
`r change_phrase(metric("WAIT_TIME","TNS","ytd_yoy"))` from 
`r format(round(ytd_metric("WAIT_TIME","TNS", field="value", agg="avg", year_offset=-1), 1), nsmall = 2)` 
over the same period (January to `r prev_label`). 
`r trend_narrative("WAIT_TIME","TNS")`


**Limitations:** In calculating the median wait time, trips with unreasonably long wait times due to data errors were not included. Extreme outlier  wait times are not reported in the figure on cumulative distribution as they are unusually long, which may be due to data errors.